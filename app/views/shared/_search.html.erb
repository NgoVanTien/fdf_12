<% if products.blank? && shops.blank? %>
  <li>
    <%= link_to search_path(params[:search]),
      class: "btn btn-default btn-block" do %>
      <%= t "livesearch.no_result", name: params[:search] %>
    <% end %>
  </li>
<% else %>
  <div class="scrollable-menu">
    <% products.each do |product| %>
      <li class="search-item">
        <%= link_to product do %>
          <div class="col-xs-12 col-sm-3 col-md-3">
            <span>
              <%= image_tag product.image.url, class: "img-responsive" %>
            </span>
          </div>
          <div class="col-xs-12 col-sm-9 col-md-9">
              <div class="row">
                <strong><%= product.name %></strong>
              </div>
              <div class="row">
                <div class="col-md-8">
                  <%= product.shop_name %>
                </div>
                <div class="col-md-4">
                  <%= number_to_currency product.price %>
                </div>
              </div>
          </div>
          <div class="clearfix"></div>
        <% end %>
      </li>
    <% end %>
    <% shops.each do |shop| %>
      <li class="search-item">
        <%= link_to shop do %>
          <div class="col-xs-12 col-sm-3 col-md-3">
            <%= image_tag shop.avatar.url, class: "img-responsive" %>
          </div>
          <div class="col-xs-12 col-sm-9 col-md-9">
            <div class="row">
              <strong><%= shop.name %></strong>
            </div>
            <div class="row">
              <div class="col-md-8">
                <%= shop.owner_name %>
              </div>
              <div class="col-md-4">
                <%= t "livesearch.shop_products", number: shop.products.size %>
              </div>
            </div>
          </div>
          <div class="clearfix"></div>
        <% end %>
      </li>
    <% end %>
  </div>
  <li class="divider"></li>
  <li>
    <%= link_to search_path(params[:search]),
      class: "btn btn-default btn-block" do %>
      <%= t "livesearch.see_more", num: (products.size + shops.size),
        name: params[:search] %>
    <% end %>
  </li>
<% end %>
